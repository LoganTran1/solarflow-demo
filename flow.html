<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolarFlow - Discover Your Solar Savings</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }

        @media (min-width: 768px) {
            .container {
                margin: 20px auto;
                border-radius: 12px;
                min-height: calc(100vh - 40px);
            }
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* Header with Logo */
        .header {
            background: white;
            padding: 15px 30px;
            border-bottom: 1px solid #e8ecf0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-radius: 12px 12px 0 0;
            position: relative;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            margin-left: 60px; /* Space for back button */
        }

        .back-btn {
            position: absolute;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 10px;
            border-radius: 50%;
            transition: background 0.3s;
            z-index: 10;
        }

        .back-btn:hover {
            background: #f0f0f0;
        }

        .logo-icon {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            font-size: 1rem;
        }

        /* Progress Section */
        .progress-section {
            background: white;
            padding: 15px 30px;
            border-bottom: 1px solid #e8ecf0;
            display: none;
            justify-content: space-between;
            align-items: center;
        }

        .progress-section.show {
            display: flex;
        }

        .progress-bar-container {
            flex: 1;
            margin-right: 20px;
        }

        .progress-bar {
            height: 8px;
            background: #e8ecf0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .progress-text {
            font-weight: 600;
            color: #4CAF50;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .quotes-available {
            background: #e8f4fd;
            color: #1976d2;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .step {
            display: none;
            padding: 60px 40px;
            text-align: center;
            animation: slideIn 0.3s ease;
            background: white;
        }

        .step.active {
            display: block;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* All steps have consistent white background */
        .step {
            display: none;
            padding: 40px 40px;
            text-align: center;
            animation: slideIn 0.3s ease;
            background: white;
        }

        .step-content {
            max-width: 600px;
            margin: 0 auto;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.2rem;
            font-weight: 700;
        }

        h2 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1rem;
            line-height: 1.5;
        }

        .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        .question-text {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 25px;
            text-align: center;
        }

        .input-label {
            display: block;
            text-align: left;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        .contact-form {
            max-width: 500px;
            margin: 0 auto;
            text-align: left;
        }

        .form-input-full {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e8ecf0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            background: white;
            color: #666;
        }

        .form-input-full:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .form-input-full::placeholder {
            color: #aaa;
            font-style: italic;
        }

        .button-group {
            display: flex;
            gap: 30px;
            justify-content: center;
            align-items: center;
            margin-top: 40px;
        }

        .btn-secondary {
            background: white;
            color: #666;
            border: 2px solid #e8ecf0;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-secondary:hover {
            border-color: #4CAF50;
            color: #4CAF50;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 0;
            transition: all 0.3s;
            min-width: 120px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s;
            min-width: 160px;
        }

        .form-input {
            width: 100%;
            max-width: 300px;
            padding: 15px 20px;
            border: 2px solid #e8ecf0;
            border-radius: 8px;
            font-size: 1.1rem;
            text-align: center;
            transition: border-color 0.3s;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s;
            min-width: 120px;
            height: 48px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        .next-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 40px;
            transition: all 0.3s;
            opacity: 1;
            pointer-events: auto;
            min-width: 120px;
        }

        .next-btn.enabled {
            opacity: 1;
            pointer-events: auto;
        }

        .next-btn.enabled:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        .nav-buttons {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin-top: 35px;
        }

        .nav-btn-prev {
            background: white;
            color: #666;
            border: 2px solid #e8ecf0;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
        }

        .nav-btn-prev:hover {
            border-color: #4CAF50;
            color: #4CAF50;
        }

        .nav-btn-next {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
        }

        .nav-btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        .btn-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-option {
            background: white;
            color: #333;
            border: 2px solid #e8ecf0;
            padding: 20px 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            min-height: 100px;
            justify-content: center;
        }

        .btn-option:hover {
            border-color: #4CAF50;
            background: #f8fff8;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.15);
        }

        .btn-option.selected {
            border-color: #4CAF50;
            background: #f8fff8;
        }

        .option-icon {
            font-size: 2rem;
        }

        .option-text {
            font-weight: 600;
            color: #333;
            font-size: 0.85rem;
            line-height: 1.2;
        }

        /* Special grid for 2-option pages (homeowner/renter) */
        .btn-grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-grid-2 .btn-option {
            min-height: 120px;
            padding: 30px 20px;
        }

        .btn-grid-2 .option-icon {
            font-size: 2.5rem;
        }

        .btn-grid-2 .option-text {
            font-size: 1rem;
        }

        .hero-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .satellite-view {
            width: 100%;
            height: 200px;
            background: #f0f0f0;
            border-radius: 12px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed #ccc;
            font-size: 1.1rem;
            color: #666;
            background-image: url('./satellite-image-flow.png');
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }

        .satellite-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }

        /* Thank You Page Styles */
        .thank-you {
            text-align: center;
            padding: 60px 40px;
            max-width: 700px;
            margin: 0 auto;
        }

        .thank-you-title {
            color: #2c3e50;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 30px;
            line-height: 1.3;
        }

        .call-notice {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            text-align: left;
        }

        .phone-icon {
            color: #4CAF50;
            font-size: 1.5rem;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .call-notice-text {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .whats-next {
            text-align: left;
            margin: 40px 0;
        }

        .whats-next h3 {
            color: #2c3e50;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .next-steps-text {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .no-obligations {
            font-weight: 600;
            color: #333;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 10px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .back-btn:hover {
            background: #f0f0f0;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, #4a6db8, #5a7bc8);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            border-radius: 0 0 12px 12px;
            margin-top: auto;
        }

        .footer-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            font-size: 1rem;
            font-weight: 700;
        }

        .footer-logo-icon {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 6px;
            font-size: 0.8rem;
        }

        .copyright {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.8rem;
        }

        .footer-links {
            display: flex;
            gap: 20px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: white;
        }

        /* Testimonial Carousel */
        .testimonials-section {
            background: #f8f9fa;
            padding: 30px 30px;
            border-top: 1px solid #e8ecf0;
        }

        .testimonials-carousel {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }

        .testimonials-track {
            display: flex;
            transition: transform 0.5s ease;
        }

        .testimonial-card {
            min-width: 220px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin: 0 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .stars {
            color: #ffd700;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .company-logo {
            background: #f0f0f0;
            border-radius: 3px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.65rem;
            font-weight: 600;
            color: #666;
            padding: 6px 12px;
            min-width: fit-content;
            white-space: nowrap;
        }

        .testimonial-text {
            font-size: 0.8rem;
            line-height: 1.4;
            color: #555;
            margin-bottom: 12px;
            flex-grow: 1;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .testimonial-author {
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
            font-size: 0.8rem;
        }

        .testimonial-location {
            font-size: 0.7rem;
            color: #888;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: #666;
            transition: all 0.3s;
            z-index: 10;
        }

        .carousel-nav:hover {
            background: #4CAF50;
            color: white;
        }

        .carousel-prev {
            left: 10px;
        }

        .carousel-next {
            right: 10px;
        }

        @media (max-width: 768px) {
            .testimonial-card {
                min-width: 250px;
            }
            
            .carousel-nav {
                display: none;
            }
        }

        @media (max-width: 767px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            
            .step {
                padding: 30px 20px;
            }
            
            #step1.hero-step {
                padding: 30px 20px;
                min-height: auto;
            }
            
            .hero-container {
                grid-template-columns: 1fr;
                gap: 30px;
                text-align: center;
            }
            
            .hero-title {
                font-size: 1.8rem;
            }
            
            #step1 .hero-quote-form {
                padding: 20px;
                max-width: 100%;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .btn {
                min-width: 100%;
                margin: 5px 0;
            }
            
            .btn-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .btn-grid-2 {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .btn-option {
                padding: 15px 10px;
                min-height: 80px;
            }
            
            .option-icon {
                font-size: 1.5rem;
            }
            
            .option-text {
                font-size: 0.8rem;
            }
            
            .footer {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .footer-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .btn-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="logo">
                    <div class="logo-icon">☀</div>
                    SolarFlow
                </div>
            </div>

            <!-- Progress Section -->
            <div class="progress-section">
                <div class="progress-bar-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                    </div>
                    <div class="progress-text" id="progressText">0%</div>
                </div>
                <div class="quotes-available">📋 Quotes available</div>
            </div>
        
        
        <button class="back-btn" id="backBtn" onclick="goBack()" style="display: none;">←</button>

        <!-- Step 1: Discover your potential solar savings -->
        <div class="step active" id="step1">
            <div class="step-content">
                <h2>Discover your potential solar savings</h2>
                <p class="subtitle">Within minutes you could save <span class="highlight">up to 40%</span> with free, no-obligation estimates.</p>
                <p class="question-text">First: Do you own or rent?</p>
                
                <div class="btn-grid-2">
                    <div class="btn-option" onclick="selectOption('homeowner')">
                        <div class="option-icon">🏠</div>
                        <div class="option-text">Homeowner</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('renter')">
                        <div class="option-icon">🏢</div>
                        <div class="option-text">Renter</div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="nav-btn-prev" onclick="window.location.href='index.html'">Previous</button>
                    <button class="nav-btn-next" onclick="nextStep()">Next</button>
                </div>
            </div>
        </div>

        <!-- Step 2: Home Type -->
        <div class="step" id="step2">
            <div class="step-content">
                <h2>What type of home do you live in?</h2>
                <p class="subtitle">Different home types have different solar potential.</p>
                
                <div class="btn-grid">
                    <div class="btn-option" onclick="selectOption('single-family')">
                        <div class="option-icon">🏘️</div>
                        <div class="option-text">Single Family Home</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('townhome')">
                        <div class="option-icon">🏘️</div>
                        <div class="option-text">Townhome</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('condo')">
                        <div class="option-icon">🏢</div>
                        <div class="option-text">Condo</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('apartment')">
                        <div class="option-icon">🏢</div>
                        <div class="option-text">Apartment</div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="nav-btn-prev" onclick="goBack()">Previous</button>
                    <button class="nav-btn-next" onclick="nextStep()">Next</button>
                </div>
            </div>
        </div>

        <!-- Step 3: Electricity Bill -->
        <div class="step" id="step3">
            <div class="step-content">
                <h2>What's your monthly electricity bill?</h2>
                <p class="subtitle">This helps us calculate your potential savings with solar.</p>
                
                <div class="btn-grid">
                    <div class="btn-option" onclick="selectOption('100-200')">
                        <div class="option-icon">💡</div>
                        <div class="option-text">$100 - $200</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('200-300')">
                        <div class="option-icon">💡</div>
                        <div class="option-text">$200 - $300</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('300-400')">
                        <div class="option-icon">💡</div>
                        <div class="option-text">$300 - $400</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('400+')">
                        <div class="option-icon">💡</div>
                        <div class="option-text">$400+</div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="nav-btn-prev" onclick="goBack()">Previous</button>
                    <button class="nav-btn-next" onclick="nextStep()">Next</button>
                </div>
            </div>
        </div>

        <!-- Step 4: Roof Sunlight -->
        <div class="step" id="step4">
            <div class="step-content">
                <h2>How sunny is your roof?</h2>
                <p class="subtitle">This helps us to determine your annual solar savings.</p>
                
                <div class="btn-grid">
                    <div class="btn-option" onclick="selectOption('full-sunlight')">
                        <div class="option-icon">☀️</div>
                        <div class="option-text">Full Sunlight</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('partial-sunlight')">
                        <div class="option-icon">⛅</div>
                        <div class="option-text">Partial Sunlight</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('not-sure')">
                        <div class="option-icon">🤔</div>
                        <div class="option-text">I'm not sure</div>
                    </div>
                    <div class="btn-option" onclick="selectOption('mostly-shade')">
                        <div class="option-icon">🌳</div>
                        <div class="option-text">Mostly Shade</div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="nav-btn-prev" onclick="goBack()">Previous</button>
                    <button class="nav-btn-next" onclick="nextStep()">Next</button>
                </div>
            </div>
        </div>

        <!-- Step 5: Address & Contact Info -->
        <div class="step" id="step5">
            <div class="step-content">
                <h2>Who will receive the free solar estimate?</h2>
                <p class="subtitle">Your personalized offer is almost ready.</p>
                
                <div class="contact-form" style="max-width: 450px;">
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label for="address" class="input-label" style="margin-bottom: 5px; font-size: 0.85rem;">Home Address</label>
                        <input type="text" id="address" class="form-input-full" placeholder="Enter your home address" value="123 Solar Avenue, Beverly Hills, CA" style="padding: 12px 15px; font-size: 0.9rem;">
                    </div>
                    
                    <div class="satellite-view" id="satelliteView" style="height: 120px; margin: 15px 0; font-size: 0.9rem;">
                        <div class="satellite-overlay">📍 Satellite view will appear here</div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label for="firstName" class="input-label" style="margin-bottom: 5px; font-size: 0.85rem;">First Name</label>
                            <input type="text" id="firstName" class="form-input-full" placeholder="First name" value="Alex" style="padding: 12px 15px; font-size: 0.9rem;">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 0;">
                            <label for="lastName" class="input-label" style="margin-bottom: 5px; font-size: 0.85rem;">Last Name</label>
                            <input type="text" id="lastName" class="form-input-full" placeholder="Last name" value="Johnson" style="padding: 12px 15px; font-size: 0.9rem;">
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label for="email" class="input-label" style="margin-bottom: 5px; font-size: 0.85rem;">Email</label>
                        <input type="email" id="email" class="form-input-full" placeholder="Enter your email address" value="alex.johnson@email.com" style="padding: 12px 15px; font-size: 0.9rem;">
                    </div>
                    
                    <div class="button-group" style="margin-top: 25px; display: flex; gap: 20px; justify-content: center; align-items: center;">
                        <button class="btn-secondary" onclick="goBack()" style="margin: 0;">Previous</button>
                        <button class="btn" onclick="nextStep()" style="margin: 0;">Get My Solar Report</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 6: Thank You -->
        <div class="step" id="step6">
            <div class="step-content">
                <div class="thank-you" style="padding: 40px 20px; max-width: 700px; margin: 0 auto;">
                    <h2 class="thank-you-title" style="font-size: 1.5rem; margin-bottom: 20px;">Thank you Alex, your solar expert will call soon!</h2>
                    
                    <div class="call-notice" style="padding: 15px; margin: 20px 0;">
                        <div class="phone-icon">📞</div>
                        <div class="call-notice-text" style="font-size: 0.9rem;">
                            Please don't miss the call or the expert won't be able to provide the information and a free estimate
                        </div>
                    </div>
                    
                    <div class="whats-next" style="margin: 25px 0;">
                        <h3 style="font-size: 1.1rem; margin-bottom: 12px;">What's next?</h3>
                        <p class="next-steps-text" style="font-size: 0.85rem; line-height: 1.5; margin-bottom: 15px;">
                            You are just moments away from a complete solar savings and cost breakdown. We have calculated 
                            your inputs and researched the best installers in your area. The selected solar expert will answer all 
                            your questions and provide you with a free estimate. <span class="no-obligations">No obligations: You are not tied to anything.</span>
                        </p>
                    </div>
                    
                    <!-- You may also like section -->
                    <div style="margin: 30px 0; background: #f8f9fa; padding: 25px; border-radius: 12px; border: 1px solid #e9ecef;">
                        <h3 style="font-size: 1.2rem; margin-bottom: 20px; color: #333; text-align: left;">You may also like:</h3>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 25px;">
                            <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center;">
                                <div style="height: 120px; background: linear-gradient(135deg, #e3f2fd, #bbdefb); display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                                    🏠
                                </div>
                                <div style="padding: 15px; display: flex; flex-direction: column; align-items: center;">
                                    <h4 style="font-size: 0.9rem; font-weight: 600; color: #2c3e50; margin-bottom: 12px; line-height: 1.3;">Does your roof need repair or replacement?</h4>
                                    <button style="background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 25px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.3s; width: 140px; height: 40px; display: flex; align-items: center; justify-content: center;" onclick="openLearnMore()">Find Quotes Now</button>
                                </div>
                            </div>
                            
                            <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center;">
                                <div style="height: 120px; background: linear-gradient(135deg, #e8f5e8, #c8e6c9); display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                                    💰
                                </div>
                                <div style="padding: 15px; display: flex; flex-direction: column; align-items: center;">
                                    <h4 style="font-size: 0.9rem; font-weight: 600; color: #2c3e50; margin-bottom: 12px; line-height: 1.3;">Need cash? Take equity out of your home!</h4>
                                    <button style="background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 25px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.3s; width: 140px; height: 40px; display: flex; align-items: center; justify-content: center;" onclick="openLearnMore()">Learn More</button>
                                </div>
                            </div>
                            
                            <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center;">
                                <div style="height: 120px; background: linear-gradient(135deg, #fff3e0, #ffcc80); display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                                    📋
                                </div>
                                <div style="padding: 15px; display: flex; flex-direction: column; align-items: center;">
                                    <h4 style="font-size: 0.9rem; font-weight: 600; color: #2c3e50; margin-bottom: 12px; line-height: 1.3;">How to get out of debt with Debt Relief</h4>
                                    <button style="background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 25px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.3s; width: 140px; height: 40px; display: flex; align-items: center; justify-content: center;" onclick="openLearnMore()">See If You Qualify</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" id="learnMoreBtn" onclick="openLearnMore()" style="margin: 0 auto;">
                            Learn More About Solar Benefits
                        </button>
                    </div>
                </div>
            </div>
        </div>

        </div>

        <!-- Testimonials Section -->
        <div class="testimonials-section">
            <div class="testimonials-carousel">
                <button class="carousel-nav carousel-prev" onclick="moveCarousel(-1)">‹</button>
                <div class="testimonials-track" id="testimonialsTrack">
                    <!-- First set of testimonials -->
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">SOLARTECH</div>
                        <div class="testimonial-text">
                            "Everyone was prompt and helpful. They keep in contact regularly. They have accounting services that make sure I get the most credit when filing for taxes."
                        </div>
                        <div class="testimonial-author">Joseph Van Biber</div>
                        <div class="testimonial-location">Blue Springs, MO</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">SUNPOWER+</div>
                        <div class="testimonial-text">
                            "SunPower+ is a good deal. They have good prices. They took care of everything so installation actually went very smoothly. I did have to install something but I looked it up on youtube for guidance."
                        </div>
                        <div class="testimonial-author">Derek</div>
                        <div class="testimonial-location">Centerville, UT</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">APEX SOLAR</div>
                        <div class="testimonial-text">
                            "Good communication. Quick response, good service, very professional. Also, like the apps, telling the energy usage and produced from each solar panel."
                        </div>
                        <div class="testimonial-author">Chan Kung</div>
                        <div class="testimonial-location">Cleveland, OH</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">SOLARVISION</div>
                        <div class="testimonial-text">
                            "We've got a great rep that keeps us informed of what's going on. Installing the panels went as smooth as it could be. We're looking forward to getting the battery packs with it."
                        </div>
                        <div class="testimonial-author">Glenn</div>
                        <div class="testimonial-location">Winthrop Harbor, IL</div>
                    </div>
                    
                    <!-- Duplicate set for infinite scrolling -->
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">SOLARTECH</div>
                        <div class="testimonial-text">
                            "Everyone was prompt and helpful. They keep in contact regularly. They have accounting services that make sure I get the most credit when filing for taxes."
                        </div>
                        <div class="testimonial-author">Joseph Van Biber</div>
                        <div class="testimonial-location">Blue Springs, MO</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">SUNPOWER+</div>
                        <div class="testimonial-text">
                            "SunPower+ is a good deal. They have good prices. They took care of everything so installation actually went very smoothly. I did have to install something but I looked it up on youtube for guidance."
                        </div>
                        <div class="testimonial-author">Derek</div>
                        <div class="testimonial-location">Centerville, UT</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">APEX SOLAR</div>
                        <div class="testimonial-text">
                            "Good communication. Quick response, good service, very professional. Also, like the apps, telling the energy usage and produced from each solar panel."
                        </div>
                        <div class="testimonial-author">Chan Kung</div>
                        <div class="testimonial-location">Cleveland, OH</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="company-logo">SOLARVISION</div>
                        <div class="testimonial-text">
                            "We've got a great rep that keeps us informed of what's going on. Installing the panels went as smooth as it could be. We're looking forward to getting the battery packs with it."
                        </div>
                        <div class="testimonial-author">Glenn</div>
                        <div class="testimonial-location">Winthrop Harbor, IL</div>
                    </div>
                </div>
                <button class="carousel-nav carousel-next" onclick="moveCarousel(1)">›</button>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-left">
                <div class="footer-logo">
                    <div class="footer-logo-icon">☀</div>
                    SolarFlow
                </div>
                <div class="copyright">© 2025 SolarFlow.us All rights reserved</div>
            </div>
            <div class="footer-links">
                <a href="#privacy">Privacy Policy</a>
                <a href="#terms">Terms of Use</a>
                <a href="#contact">Contact Us</a>
                <a href="#ccpa">CCPA</a>
                <a href="#privacy">Do Not Sell My Details</a>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 6;
        const formData = {};

        function updateProgress() {
            const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
            const roundedProgress = Math.round(progress);
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = roundedProgress + '%';
            
            // Show/hide progress bar based on current step
            const progressSection = document.querySelector('.progress-section');
            if (currentStep === 1) {
                progressSection.classList.remove('show');
            } else {
                progressSection.classList.add('show');
            }
            
            // Show/hide back button
            const backBtn = document.getElementById('backBtn');
            if (currentStep > 1) {
                if (backBtn) backBtn.style.display = 'block';
            } else {
                if (backBtn) backBtn.style.display = 'none';
            }

            // Restore previous selections when navigating back
            restorePreviousSelection();
        }

        function restorePreviousSelection() {
            const stepData = formData['step' + currentStep];
            if (stepData) {
                const options = document.querySelectorAll('#step' + currentStep + ' .btn-option');
                options.forEach(option => {
                    option.classList.remove('selected');
                    // Check if this option matches the stored selection by looking at the onclick attribute
                    const onclickStr = option.getAttribute('onclick');
                    if (onclickStr && onclickStr.includes(`'${stepData}'`)) {
                        option.classList.add('selected');
                    }
                });
            }
        }

        function nextStep() {
            // Validation for specific steps
            if (currentStep === 5) {  // Contact info step (was step 6, now step 5)
                const address = document.getElementById('address').value;
                const firstName = document.getElementById('firstName').value;
                const lastName = document.getElementById('lastName').value;
                const email = document.getElementById('email').value;
                
                if (!address.trim()) {
                    alert('Please enter your address.');
                    return;
                }
                
                if (!firstName.trim() || !lastName.trim() || !email.trim()) {
                    alert('Please fill in all contact information.');
                    return;
                }
                
                formData.address = address;
                formData.firstName = firstName;
                formData.lastName = lastName;
                formData.email = email;
                
                // Simulate satellite image loading
                document.getElementById('satelliteView').innerHTML = '<div class="satellite-overlay">🛰️ Loading satellite view of ' + address + '...</div>';
                setTimeout(() => {
                    document.getElementById('satelliteView').innerHTML = '<div class="satellite-overlay">📸 Satellite Analysis Complete<br><em>Solar potential: Excellent</em></div>';
                }, 1500);
                
                console.log('Form Data Collected:', formData);
            }

            if (currentStep < totalSteps) {
                document.getElementById('step' + currentStep).classList.remove('active');
                currentStep++;
                document.getElementById('step' + currentStep).classList.add('active');
                updateProgress();
                
                // Check if we reached the thank you page for auto-redirect
                checkForThankYouPage();
            }
        }

        function selectOption(option) {
            // Visual feedback for selection
            const options = document.querySelectorAll('#step' + currentStep + ' .btn-option');
            options.forEach(opt => opt.classList.remove('selected'));
            event.target.closest('.btn-option').classList.add('selected');
            
            formData['step' + currentStep] = option;
            
            // Auto-advance after short delay
            setTimeout(() => {
                nextStep();
            }, 300);
        }

        function goBack() {
            if (currentStep > 1) {
                document.getElementById('step' + currentStep).classList.remove('active');
                currentStep--;
                document.getElementById('step' + currentStep).classList.add('active');
                updateProgress();
            }
        }

        // Initialize progress bar
        updateProgress();

        // Auto-redirect function for thank you page
        function openLearnMore() {
            window.open('https://www.nation.com/how-solar-energy-reduces-costs-and-boosts-home-value/?var=8993573157044169917&imp=rjs&segment=google_2619374225&utm_source=google_search_networks&s1cid=22293539927&s1agid=adgroupid&placement=&s1aid=2619374225&is_pub_ref=true&utm_campaign=nation-SME_Net_New-01_20-Beauty_Wellness-KP-US-en-Benefits_of_Solar_Energy-Solar_Energy_Benefits-9777af94-0004-492e-a156-a767a79b1b37&adgroup=Exploring_Cost_Savings_Through_Solar_Energy-Benefits_of_Solar_Energy&headline=solar%20pv&optkey=solar%20pv&forcekeyA=solar%20pv&forcekeyB=sun%20energy&forcekeyC=solar%20energy%20systems&forcekeyD=home%20solar%20power%20system&forcekeyE=solar%20pv%20system&s1luid=27598209-81e5-4419-a1aa-8ab599aa81f4&s1kid=kwd-295180465660&gad_source=5&gad_campaignid=22293539927&gclid=EAIaIQobChMIwtWmxvjSjQMVf_7jBx1OwAs4EAAYASAAEgIvxvD_BwE', '_blank');
        }

        // Auto-open the link when reaching thank you page
        function checkForThankYouPage() {
            if (currentStep === 6) {
                // Auto-open the link after 3 seconds
                setTimeout(() => {
                    openLearnMore();
                }, 3000);
            }
        }

        // Testimonial Carousel
        let currentTestimonial = 0;
        const testimonialCards = document.querySelectorAll('.testimonial-card');
        const totalTestimonials = testimonialCards.length / 2; // We have duplicates, so divide by 2
        const cardWidth = 236; // 220px + 16px margin

        function moveCarousel(direction) {
            const track = document.getElementById('testimonialsTrack');
            
            currentTestimonial += direction;
            
            // Move the track
            track.style.transform = `translateX(-${currentTestimonial * cardWidth}px)`;
            
            // Handle infinite scrolling by resetting position when needed
            if (currentTestimonial >= totalTestimonials) {
                setTimeout(() => {
                    track.style.transition = 'none';
                    currentTestimonial = 0;
                    track.style.transform = `translateX(0px)`;
                    setTimeout(() => {
                        track.style.transition = 'transform 0.5s ease';
                    }, 50);
                }, 500);
            } else if (currentTestimonial < 0) {
                setTimeout(() => {
                    track.style.transition = 'none';
                    currentTestimonial = totalTestimonials - 1;
                    track.style.transform = `translateX(-${currentTestimonial * cardWidth}px)`;
                    setTimeout(() => {
                        track.style.transition = 'transform 0.5s ease';
                    }, 50);
                }, 500);
            }
        }

        // Auto-rotate testimonials
        setInterval(() => {
            moveCarousel(1);
        }, 5000);

        // Handle Enter key for input fields
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                if (currentStep === 1 || currentStep === 6) {
                    nextStep();
                }
            }
        });
    </script>
</body>
</html>